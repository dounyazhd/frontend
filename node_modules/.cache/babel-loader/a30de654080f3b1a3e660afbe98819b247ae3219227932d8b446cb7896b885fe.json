{"ast":null,"code":"import React,{useEffect,useState}from'react';import'./ProductManagement.css';import{Helmet}from\"react-helmet\";import{Link,useNavigate}from\"react-router-dom\";import axios from\"axios\";import Cookies from\"js-cookie\";import NavBarProfile from\"../../NavBarProfile/NavBarProfile\";import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";const ProductManagement=()=>{const[isMenuOpen,setIsMenuOpen]=useState(false);const toggleMenuAdmin=()=>{setIsMenuOpen(!isMenuOpen);};const[loading,setLoading]=useState(false);const[products,setProducts]=useState([]);const navigate=useNavigate();const getUserRole=async userId=>{try{const response=await axios.get(\"http://localhost:8000/read_user/\".concat(userId,\"/\"));return response.data.role;}catch(error){console.error(\"Failed to fetch user role:\",error);return null;}};const handleUserIconClick=async e=>{e.preventDefault();const userId=localStorage.getItem('user_id');if(Cookies.get('auth_token')&&userId){const role=await getUserRole(userId);if(role==='user'){navigate('/profile/personal_information');}else if(role==='admin'){navigate('/admin/performance_overview');}else{navigate('/sign_in');}}else{console.log(\"Something Wrong !!\");}};useEffect(()=>{const fetchProducts=async()=>{setLoading(true);try{const response=await axios.get('http://localhost:8000/get_all_products/');const Products=response.data;setProducts(Products);}catch(error){console.error('Error fetching products: ',error);}setLoading(false);};fetchProducts();},[]);const handleDelete=productId=>{const confirmDelete=window.confirm('Are you sure you want to delete this product?');if(confirmDelete){fetch(\"http://localhost:8000/delete_product/\".concat(productId,\"/\"),{method:'DELETE'}).then(response=>{if(response.ok){console.log('Product deleted successfully!');setProducts(products.filter(product=>product._id!==productId));}else{console.error('Failed to delete product');}}).catch(error=>{console.error('Error deleting product:',error);});}};const[showEditModal,setShowEditModal]=useState(false);const[editingProduct,setEditingProduct]=useState({});const handleEdit=productId=>{setEditingProduct(products.find(product=>product._id===productId));setShowEditModal(true);};const handleChange=e=>{const{name,value}=e.target;setEditingProduct({...editingProduct,[name]:value});};const updateProduct=async()=>{try{const response=await axios.put(\"http://localhost:8000/update_product/\".concat(editingProduct._id,\"/\"),editingProduct);if(response.status===200){console.log('Product updated successfully!');}else{console.error('Failed to update product');}}catch(error){console.error('Error updating product:',error);}};const handleSave=()=>{updateProduct();setShowEditModal(false);alert('Product updated successfully!');};const handleCloseModal=()=>{setShowEditModal(false);setShowCreateModal(false);};const handleDeleteImage=index=>{setEditingProduct({...editingProduct,images:editingProduct.images.filter((_,i)=>i!==index)});};const handleUploadNewImage=()=>{if(editingProduct.newImage){setEditingProduct({...editingProduct,images:[...editingProduct.images,editingProduct.newImage],newImage:{}});}};const handleImageChange=e=>{const file=e.target.files[0];const reader=new FileReader();reader.onloadend=()=>{setEditingProduct({...editingProduct,newImage:{image_name:file.name,image_data:reader.result.split(\",\")[1]}});};if(file){reader.readAsDataURL(file);}};//Create New Product\nconst[productName,setProductName]=useState('');const[productCategory,setProductCategory]=useState('');const[productPrice,setProductPrice]=useState('');const[productSellingPrice,setProductSellingPrice]=useState('');const[productStock,setProductStock]=useState('');const[productUnitsSold,setProductUnitsSold]=useState(0);const[productDescription,setProductDescription]=useState('');const[selectedImages,setSelectedImages]=useState(null);const[imagePreviews,setImagePreviews]=useState([]);const[showCreateModal,setShowCreateModal]=useState(false);const[showRequiredFieldsAlert,setShowRequiredFieldsAlert]=useState(false);const[showSuccessAlert,setShowSuccessAlert]=useState(false);const[showErrorAlert,setShowErrorAlert]=useState(false);const[errorMessage,setErrorMessage]=useState('');const handleProductNameChange=event=>{setProductName(event.target.value);};const handleProductCategoryChange=event=>{setProductCategory(event.target.value);};const handleProductPriceChange=event=>{setProductPrice(event.target.value);};const handleProductSellingPriceChange=event=>{setProductSellingPrice(event.target.value);};const handleProductStockChange=event=>{setProductStock(event.target.value);};const handleProductUnitsSoldChange=event=>{setProductUnitsSold(event.target.value);};const handleProductDescriptionChange=event=>{setProductDescription(event.target.value);};const handleImageChangee=event=>{const files=event.target.files;setSelectedImages(files);const previews=[];for(let i=0;i<files.length;i++){const reader=new FileReader();reader.onload=e=>{previews.push({src:e.target.result,file:files[i]});if(previews.length===files.length){setImagePreviews([...imagePreviews,...previews]);}};reader.readAsDataURL(files[i]);}};const handleDeleteImagee=index=>{const updatedPreviews=[...imagePreviews];updatedPreviews.splice(index,1);setImagePreviews(updatedPreviews);};const handleSubmit=async event=>{event.preventDefault();if(!productName||!productCategory||!productPrice||!productSellingPrice||!productStock||!productDescription){setShowRequiredFieldsAlert(true);return;}const formData=new FormData();formData.append('productName',productName);formData.append('productCategory',productCategory);formData.append('productPrice',productPrice);formData.append('productSellingPrice',productSellingPrice);formData.append('productStock',productStock);formData.append('productUnitsSold',productUnitsSold);formData.append('productDescription',productDescription);for(let i=0;i<selectedImages.length;i++){formData.append('images',selectedImages[i]);}try{const response=await fetch('http://localhost:8000/create_product/',{method:'POST',body:formData});if(response.ok){setShowSuccessAlert(true);}else{setShowErrorAlert(true);const data=await response.json();setErrorMessage(data.message);}}catch(error){setShowErrorAlert(true);setErrorMessage('Error uploading images');}};useEffect(()=>{if(showRequiredFieldsAlert||showSuccessAlert||showErrorAlert){setTimeout(()=>{setShowRequiredFieldsAlert(false);setShowSuccessAlert(false);setShowErrorAlert(false);},4000);}},[showRequiredFieldsAlert,showSuccessAlert,showErrorAlert]);const handleDeleteAllProducts=async()=>{const confirmation=window.confirm('Êtes-vous sûr de vouloir supprimer tous les produits ?');if(!confirmation){return;}try{const response=await fetch('http://localhost:8000/delete_all_products/',{method:'DELETE'});if(response.ok){console.log('Tous les produits ont été supprimés');alert('Tous les produits ont été supprimés avec succès');}else{console.error('Erreur lors de la suppression des produits');alert('Une erreur s\\'est produite lors de la suppression des produits');}}catch(error){console.error('Erreur lors de la suppression des produits',error);alert('Une erreur s\\'est produite lors de la suppression des produits');}};return/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(Helmet,{children:/*#__PURE__*/_jsx(\"title\",{children:\"Product Management \"})}),/*#__PURE__*/_jsx(NavBarProfile,{}),/*#__PURE__*/_jsxs(\"div\",{className:\"content\",children:[/*#__PURE__*/_jsxs(\"nav\",{className:\"dashboard-admin\",children:[/*#__PURE__*/_jsx(\"i\",{className:\"fas fa-bars menu-icon\",onClick:toggleMenuAdmin}),/*#__PURE__*/_jsx(\"div\",{className:\"top\",children:/*#__PURE__*/_jsx(\"img\",{src:\"/images/Home/logo.jpg\",alt:\"Logo\"})}),/*#__PURE__*/_jsxs(\"ul\",{className:\"navbar-nav \".concat(isMenuOpen?'show':''),children:[/*#__PURE__*/_jsx(\"li\",{className:\"nav-item\",children:/*#__PURE__*/_jsx(Link,{to:\"/admin/performance_overview\",className:\"nav-link\",children:\"Performance Overview / Analytics\"})}),/*#__PURE__*/_jsx(\"li\",{className:\"nav-item\",children:/*#__PURE__*/_jsx(Link,{to:\"/admin/order_management\",className:\"nav-link\",children:\"Order Management\"})}),/*#__PURE__*/_jsx(\"li\",{className:\"nav-item\",style:{backgroundColor:'white',width:'80%',borderRadius:'20px 0 0 50px'},children:/*#__PURE__*/_jsx(Link,{to:\"/admin/product_management\",className:\"nav-link\",children:\"Product Management\"})}),/*#__PURE__*/_jsx(\"li\",{className:\"nav-item\",children:/*#__PURE__*/_jsx(Link,{to:\"/admin/marketing_and_promotion\",className:\"nav-link\",children:\"Marketing and Promotion\"})}),/*#__PURE__*/_jsx(\"li\",{className:\"nav-item\",children:/*#__PURE__*/_jsx(Link,{to:\"/admin/customers\",className:\"nav-link\",children:\"Customers\"})}),/*#__PURE__*/_jsx(\"li\",{className:\"nav-item\",children:/*#__PURE__*/_jsx(Link,{to:\"/admin/account_settings\",className:\"nav-link\",children:\"Account Settings\"})})]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"content-products\",children:[loading&&/*#__PURE__*/_jsx(\"div\",{className:\"loading\",children:/*#__PURE__*/_jsx(\"i\",{className:\"fas fa-spinner fa-spin\"})}),/*#__PURE__*/_jsxs(\"div\",{className:\"product-list\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"title\",children:[/*#__PURE__*/_jsx(\"h2\",{children:\"Product List\"}),/*#__PURE__*/_jsxs(\"h2\",{children:[\"(\",products.length,\" Products)\"]})]}),/*#__PURE__*/_jsxs(\"table\",{children:[/*#__PURE__*/_jsx(\"thead\",{children:/*#__PURE__*/_jsxs(\"tr\",{children:[/*#__PURE__*/_jsx(\"th\",{children:\"Category\"}),/*#__PURE__*/_jsx(\"th\",{children:\"Name\"}),/*#__PURE__*/_jsx(\"th\",{children:\"Price\"}),/*#__PURE__*/_jsx(\"th\",{children:\"Selling Price\"}),/*#__PURE__*/_jsx(\"th\",{children:\"Stock\"}),/*#__PURE__*/_jsx(\"th\",{children:\"Units Sold\"}),/*#__PURE__*/_jsx(\"th\",{children:\"Images\"}),/*#__PURE__*/_jsx(\"th\",{children:\"Manage\"})]})}),/*#__PURE__*/_jsx(\"tbody\",{children:products.map(product=>/*#__PURE__*/_jsxs(\"tr\",{children:[/*#__PURE__*/_jsx(\"td\",{children:product.category}),/*#__PURE__*/_jsx(\"td\",{children:product.name}),/*#__PURE__*/_jsx(\"td\",{children:product.price}),/*#__PURE__*/_jsx(\"td\",{children:product.sellingprice}),/*#__PURE__*/_jsx(\"td\",{children:product.stock}),/*#__PURE__*/_jsx(\"td\",{children:product.units_sold}),/*#__PURE__*/_jsx(\"td\",{children:product.images.length>0&&/*#__PURE__*/_jsx(\"img\",{src:\"data:image/jpeg;base64,\".concat(product.images[0].image_data),alt:\"Product \".concat(product.name,\" Image\")})}),/*#__PURE__*/_jsxs(\"td\",{children:[/*#__PURE__*/_jsx(\"i\",{className:\"fas fa-edit\",onClick:()=>handleEdit(product._id),id:\"icon-edit\"}),/*#__PURE__*/_jsx(\"i\",{className:\"fas fa-trash\",onClick:()=>handleDelete(product._id),id:\"icon-delete\"})]})]},product._id))})]})]}),showEditModal&&/*#__PURE__*/_jsx(\"div\",{className:\"modal-container\",children:/*#__PURE__*/_jsx(\"div\",{className:\"modal\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"modal-content\",children:[/*#__PURE__*/_jsx(\"i\",{className:\"fas fa-times\",onClick:handleCloseModal}),/*#__PURE__*/_jsx(\"h2\",{children:\"Edit Product\"}),/*#__PURE__*/_jsxs(\"label\",{children:[\"Name : \",/*#__PURE__*/_jsx(\"input\",{type:\"text\",name:\"name\",value:editingProduct.name,onChange:handleChange})]}),/*#__PURE__*/_jsxs(\"label\",{children:[\"Price : \",/*#__PURE__*/_jsx(\"input\",{type:\"number\",name:\"price\",value:editingProduct.price,onChange:handleChange})]}),/*#__PURE__*/_jsxs(\"label\",{children:[\"Selling Price : \",/*#__PURE__*/_jsx(\"input\",{type:\"number\",name:\"sellingprice\",value:editingProduct.sellingprice,onChange:handleChange})]}),/*#__PURE__*/_jsxs(\"label\",{children:[\"Stock : \",/*#__PURE__*/_jsx(\"input\",{type:\"number\",name:\"stock\",value:editingProduct.stock,onChange:handleChange})]}),/*#__PURE__*/_jsxs(\"label\",{children:[\"Units Sold : \",/*#__PURE__*/_jsx(\"input\",{type:\"number\",name:\"units_sold\",value:editingProduct.units_sold,onChange:handleChange})]}),/*#__PURE__*/_jsxs(\"label\",{children:[\"Description: \",/*#__PURE__*/_jsx(\"textarea\",{name:\"description\",value:editingProduct.description,onChange:handleChange})]}),/*#__PURE__*/_jsx(\"label\",{children:\"Images: \"}),/*#__PURE__*/_jsx(\"div\",{className:\"image-container\",children:editingProduct.images&&editingProduct.images.map((image,index)=>/*#__PURE__*/_jsxs(\"div\",{className:\"image-item\",children:[/*#__PURE__*/_jsx(\"img\",{src:\"data:image/jpeg;base64,\".concat(image.image_data),alt:image.image_name}),/*#__PURE__*/_jsx(\"button\",{onClick:()=>handleDeleteImage(index),children:\"Delete\"})]},index))}),/*#__PURE__*/_jsxs(\"label\",{children:[\"Upload New Image: \",/*#__PURE__*/_jsx(\"input\",{type:\"file\",name:\"newImage\",onChange:handleImageChange})]}),/*#__PURE__*/_jsx(\"button\",{onClick:handleUploadNewImage,children:\"Upload New Image\"}),/*#__PURE__*/_jsx(\"button\",{onClick:handleSave,children:\"Save\"})]})})}),/*#__PURE__*/_jsxs(\"div\",{className:\"button-create-delete\",children:[/*#__PURE__*/_jsx(\"button\",{onClick:()=>setShowCreateModal(true),className:\"button-create\",children:\"Create New Product\"}),/*#__PURE__*/_jsx(\"button\",{onClick:handleDeleteAllProducts,className:\"button-delete\",children:\"Delete All Products\"})]}),showCreateModal&&/*#__PURE__*/_jsx(\"div\",{className:\"modal-container\",children:/*#__PURE__*/_jsx(\"div\",{className:\"modal\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"modal-content\",children:[/*#__PURE__*/_jsx(\"i\",{className:\"fas fa-times\",onClick:handleCloseModal}),/*#__PURE__*/_jsx(\"h2\",{children:\"Create Product\"}),/*#__PURE__*/_jsxs(\"label\",{children:[\"Name :\",/*#__PURE__*/_jsx(\"input\",{type:\"text\",name:\"name\",value:productName,onChange:handleProductNameChange,placeholder:\"Product Name\"})]}),/*#__PURE__*/_jsxs(\"label\",{children:[\"Category :\",/*#__PURE__*/_jsx(\"input\",{type:\"text\",name:\"category\",value:productCategory,onChange:handleProductCategoryChange,placeholder:\"Product Category\"})]}),/*#__PURE__*/_jsxs(\"label\",{children:[\"Price :\",/*#__PURE__*/_jsx(\"input\",{type:\"number\",name:\"price\",value:productPrice,onChange:handleProductPriceChange,placeholder:\"Product Price\"})]}),/*#__PURE__*/_jsxs(\"label\",{children:[\"Selling Price :\",/*#__PURE__*/_jsx(\"input\",{type:\"number\",name:\"sellingprice\",value:productSellingPrice,onChange:handleProductSellingPriceChange,placeholder:\"Product Selling Price\"})]}),/*#__PURE__*/_jsxs(\"label\",{children:[\"Stock :\",/*#__PURE__*/_jsx(\"input\",{type:\"number\",name:\"stock\",value:productStock,onChange:handleProductStockChange,placeholder:\"Product Stock\"})]}),/*#__PURE__*/_jsxs(\"label\",{children:[\"Units Sold :\",/*#__PURE__*/_jsx(\"input\",{type:\"number\",name:\"units_sold\",value:productUnitsSold,onChange:handleProductUnitsSoldChange,placeholder:\"Product Units Sold\"})]}),/*#__PURE__*/_jsxs(\"label\",{children:[\"Description :\",/*#__PURE__*/_jsx(\"textarea\",{name:\"description\",value:productDescription,onChange:handleProductDescriptionChange,placeholder:\"Product Description\"})]}),/*#__PURE__*/_jsxs(\"label\",{className:\"file-input-label\",children:[/*#__PURE__*/_jsx(\"i\",{className:\"fas fa-images\"}),\"Choose your images here\",/*#__PURE__*/_jsx(\"input\",{type:\"file\",name:\"images\",multiple:true,onChange:handleImageChangee,className:\"file-input\"})]}),/*#__PURE__*/_jsx(\"div\",{className:\"image-container\",children:imagePreviews.map((preview,index)=>/*#__PURE__*/_jsxs(\"div\",{className:\"image-item\",children:[/*#__PURE__*/_jsx(\"img\",{src:preview.src,alt:\"Image \".concat(index)}),/*#__PURE__*/_jsx(\"button\",{onClick:()=>handleDeleteImagee(index),children:\"Delete\"})]},index))}),/*#__PURE__*/_jsx(\"button\",{onClick:handleSubmit,style:{marginLeft:'20%'},children:\"Add Product\"}),showRequiredFieldsAlert&&/*#__PURE__*/_jsx(\"div\",{className:\"alert\",children:\"Veuillez remplir tous les champs obligatoires\"}),showSuccessAlert&&/*#__PURE__*/_jsx(\"div\",{className:\"alert\",children:\"Produit cr\\xE9\\xE9 avec succ\\xE8s!\"}),showErrorAlert&&/*#__PURE__*/_jsxs(\"div\",{className:\"alert\",children:[\"Erreur: \",errorMessage]})]})})})]})]})]});};export default ProductManagement;","map":{"version":3,"names":["React","useEffect","useState","Helmet","Link","useNavigate","axios","Cookies","NavBarProfile","jsx","_jsx","jsxs","_jsxs","ProductManagement","isMenuOpen","setIsMenuOpen","toggleMenuAdmin","loading","setLoading","products","setProducts","navigate","getUserRole","userId","response","get","concat","data","role","error","console","handleUserIconClick","e","preventDefault","localStorage","getItem","log","fetchProducts","Products","handleDelete","productId","confirmDelete","window","confirm","fetch","method","then","ok","filter","product","_id","catch","showEditModal","setShowEditModal","editingProduct","setEditingProduct","handleEdit","find","handleChange","name","value","target","updateProduct","put","status","handleSave","alert","handleCloseModal","setShowCreateModal","handleDeleteImage","index","images","_","i","handleUploadNewImage","newImage","handleImageChange","file","files","reader","FileReader","onloadend","image_name","image_data","result","split","readAsDataURL","productName","setProductName","productCategory","setProductCategory","productPrice","setProductPrice","productSellingPrice","setProductSellingPrice","productStock","setProductStock","productUnitsSold","setProductUnitsSold","productDescription","setProductDescription","selectedImages","setSelectedImages","imagePreviews","setImagePreviews","showCreateModal","showRequiredFieldsAlert","setShowRequiredFieldsAlert","showSuccessAlert","setShowSuccessAlert","showErrorAlert","setShowErrorAlert","errorMessage","setErrorMessage","handleProductNameChange","event","handleProductCategoryChange","handleProductPriceChange","handleProductSellingPriceChange","handleProductStockChange","handleProductUnitsSoldChange","handleProductDescriptionChange","handleImageChangee","previews","length","onload","push","src","handleDeleteImagee","updatedPreviews","splice","handleSubmit","formData","FormData","append","body","json","message","setTimeout","handleDeleteAllProducts","confirmation","children","className","onClick","alt","to","style","backgroundColor","width","borderRadius","map","category","price","sellingprice","stock","units_sold","id","type","onChange","description","image","placeholder","multiple","preview","marginLeft"],"sources":["C:/Users/DOUNYA/Desktop/SFE/frontend/src/components/Profile/ProfileAdmin/ProductManagement.js"],"sourcesContent":["import React, {useEffect, useState} from 'react';\r\nimport './ProductManagement.css';\r\nimport {Helmet} from \"react-helmet\";\r\nimport {Link, useNavigate} from \"react-router-dom\";\r\nimport axios from \"axios\";\r\nimport Cookies from \"js-cookie\";\r\nimport NavBarProfile from \"../../NavBarProfile/NavBarProfile\";\r\n\r\nconst ProductManagement = () => {\r\n    const [isMenuOpen, setIsMenuOpen] = useState(false);\r\n\r\n    const toggleMenuAdmin = () => {\r\n        setIsMenuOpen(!isMenuOpen);\r\n    };\r\n\r\n    const [loading, setLoading] = useState(false);\r\n    const [products, setProducts] = useState([]);\r\n    const navigate = useNavigate();\r\n\r\n    const getUserRole = async (userId) => {\r\n        try {\r\n            const response = await axios.get(`http://localhost:8000/read_user/${userId}/`);\r\n            return response.data.role;\r\n        } catch (error) {\r\n            console.error(\"Failed to fetch user role:\", error);\r\n            return null;\r\n        }\r\n    };\r\n\r\n    const handleUserIconClick = async (e) => {\r\n        e.preventDefault();\r\n        const userId = localStorage.getItem('user_id');\r\n        if (Cookies.get('auth_token') && userId) {\r\n            const role = await getUserRole(userId);\r\n            if (role === 'user') {\r\n                navigate('/profile/personal_information');\r\n            } else if (role === 'admin') {\r\n                navigate('/admin/performance_overview');\r\n            } else {\r\n                navigate('/sign_in');\r\n            }\r\n        } else {\r\n            console.log(\"Something Wrong !!\")\r\n        }\r\n    };\r\n\r\n\r\n    useEffect(() => {\r\n        const fetchProducts = async () => {\r\n            setLoading(true);\r\n\r\n            try {\r\n                const response = await axios.get('http://localhost:8000/get_all_products/');\r\n                const Products = response.data;\r\n                setProducts(Products);\r\n            } catch (error) {\r\n                console.error('Error fetching products: ', error);\r\n            }\r\n\r\n            setLoading(false);\r\n        };\r\n\r\n        fetchProducts();\r\n    }, []);\r\n\r\n    const handleDelete = (productId) => {\r\n        const confirmDelete = window.confirm('Are you sure you want to delete this product?');\r\n        if (confirmDelete) {\r\n            fetch(`http://localhost:8000/delete_product/${productId}/`, {\r\n                method: 'DELETE'\r\n            })\r\n                .then(response => {\r\n                    if (response.ok) {\r\n                        console.log('Product deleted successfully!');\r\n                        setProducts(products.filter(product => product._id !== productId));\r\n                    } else {\r\n                        console.error('Failed to delete product');\r\n                    }\r\n                })\r\n                .catch(error => {\r\n                    console.error('Error deleting product:', error);\r\n                });\r\n        }\r\n    };\r\n\r\n\r\n    const [showEditModal, setShowEditModal] = useState(false);\r\n    const [editingProduct, setEditingProduct] = useState({});\r\n\r\n    const handleEdit = (productId) => {\r\n        setEditingProduct(products.find(product => product._id === productId));\r\n        setShowEditModal(true);\r\n    };\r\n\r\n    const handleChange = (e) => {\r\n        const {name, value} = e.target;\r\n        setEditingProduct({...editingProduct, [name]: value});\r\n    };\r\n\r\n    const updateProduct = async () => {\r\n        try {\r\n            const response = await axios.put(`http://localhost:8000/update_product/${editingProduct._id}/`, editingProduct);\r\n            if (response.status === 200) {\r\n                console.log('Product updated successfully!');\r\n            } else {\r\n                console.error('Failed to update product');\r\n            }\r\n        } catch (error) {\r\n            console.error('Error updating product:', error);\r\n        }\r\n    };\r\n\r\n    const handleSave = () => {\r\n        updateProduct();\r\n        setShowEditModal(false);\r\n        alert('Product updated successfully!');\r\n    };\r\n\r\n\r\n    const handleCloseModal = () => {\r\n        setShowEditModal(false);\r\n        setShowCreateModal(false);\r\n    };\r\n\r\n\r\n    const handleDeleteImage = (index) => {\r\n        setEditingProduct({\r\n            ...editingProduct,\r\n            images: editingProduct.images.filter((_, i) => i !== index)\r\n        });\r\n    };\r\n\r\n    const handleUploadNewImage = () => {\r\n        if (editingProduct.newImage) {\r\n            setEditingProduct({\r\n                ...editingProduct,\r\n                images: [...editingProduct.images, editingProduct.newImage],\r\n                newImage: {}\r\n            });\r\n        }\r\n    };\r\n\r\n\r\n    const handleImageChange = (e) => {\r\n        const file = e.target.files[0];\r\n        const reader = new FileReader();\r\n\r\n        reader.onloadend = () => {\r\n            setEditingProduct({\r\n                ...editingProduct,\r\n                newImage: {\r\n                    image_name: file.name,\r\n                    image_data: reader.result.split(\",\")[1]\r\n                }\r\n            });\r\n        };\r\n\r\n        if (file) {\r\n            reader.readAsDataURL(file);\r\n        }\r\n    };\r\n\r\n\r\n    //Create New Product\r\n    const [productName, setProductName] = useState('');\r\n    const [productCategory, setProductCategory] = useState('');\r\n    const [productPrice, setProductPrice] = useState('');\r\n    const [productSellingPrice, setProductSellingPrice] = useState('');\r\n    const [productStock, setProductStock] = useState('');\r\n    const [productUnitsSold, setProductUnitsSold] = useState(0);\r\n    const [productDescription, setProductDescription] = useState('');\r\n\r\n    const [selectedImages, setSelectedImages] = useState(null);\r\n    const [imagePreviews, setImagePreviews] = useState([]);\r\n\r\n    const [showCreateModal, setShowCreateModal] = useState(false);\r\n\r\n    const [showRequiredFieldsAlert, setShowRequiredFieldsAlert] = useState(false);\r\n    const [showSuccessAlert, setShowSuccessAlert] = useState(false);\r\n    const [showErrorAlert, setShowErrorAlert] = useState(false);\r\n    const [errorMessage, setErrorMessage] = useState('');\r\n\r\n\r\n    const handleProductNameChange = (event) => {\r\n        setProductName(event.target.value);\r\n    };\r\n\r\n    const handleProductCategoryChange = (event) => {\r\n        setProductCategory(event.target.value);\r\n    };\r\n\r\n    const handleProductPriceChange = (event) => {\r\n        setProductPrice(event.target.value);\r\n    };\r\n\r\n    const handleProductSellingPriceChange = (event) => {\r\n        setProductSellingPrice(event.target.value);\r\n    };\r\n\r\n    const handleProductStockChange = (event) => {\r\n        setProductStock(event.target.value);\r\n    };\r\n\r\n    const handleProductUnitsSoldChange = (event) => {\r\n        setProductUnitsSold(event.target.value);\r\n    };\r\n\r\n    const handleProductDescriptionChange = (event) => {\r\n        setProductDescription(event.target.value);\r\n    };\r\n\r\n\r\n    const handleImageChangee = (event) => {\r\n        const files = event.target.files;\r\n        setSelectedImages(files);\r\n\r\n        const previews = [];\r\n        for (let i = 0; i < files.length; i++) {\r\n            const reader = new FileReader();\r\n            reader.onload = (e) => {\r\n                previews.push({src: e.target.result, file: files[i]});\r\n                if (previews.length === files.length) {\r\n                    setImagePreviews([...imagePreviews, ...previews]);\r\n                }\r\n            };\r\n            reader.readAsDataURL(files[i]);\r\n        }\r\n    };\r\n\r\n    const handleDeleteImagee = (index) => {\r\n        const updatedPreviews = [...imagePreviews];\r\n        updatedPreviews.splice(index, 1);\r\n        setImagePreviews(updatedPreviews);\r\n    };\r\n\r\n    const handleSubmit = async (event) => {\r\n        event.preventDefault();\r\n\r\n        if (!productName || !productCategory || !productPrice || !productSellingPrice || !productStock || !productDescription) {\r\n            setShowRequiredFieldsAlert(true);\r\n            return;\r\n        }\r\n\r\n        const formData = new FormData();\r\n        formData.append('productName', productName);\r\n        formData.append('productCategory', productCategory);\r\n        formData.append('productPrice', productPrice);\r\n        formData.append('productSellingPrice', productSellingPrice);\r\n        formData.append('productStock', productStock);\r\n        formData.append('productUnitsSold', productUnitsSold);\r\n        formData.append('productDescription', productDescription);\r\n\r\n        for (let i = 0; i < selectedImages.length; i++) {\r\n            formData.append('images', selectedImages[i]);\r\n        }\r\n\r\n        try {\r\n            const response = await fetch('http://localhost:8000/create_product/', {\r\n                method: 'POST',\r\n                body: formData,\r\n            });\r\n            if (response.ok) {\r\n                setShowSuccessAlert(true);\r\n            } else {\r\n                setShowErrorAlert(true);\r\n                const data = await response.json();\r\n                setErrorMessage(data.message);\r\n            }\r\n        } catch (error) {\r\n            setShowErrorAlert(true);\r\n            setErrorMessage('Error uploading images');\r\n        }\r\n    };\r\n\r\n    useEffect(() => {\r\n        if (showRequiredFieldsAlert || showSuccessAlert || showErrorAlert) {\r\n            setTimeout(() => {\r\n                setShowRequiredFieldsAlert(false);\r\n                setShowSuccessAlert(false);\r\n                setShowErrorAlert(false);\r\n            }, 4000);\r\n        }\r\n    }, [showRequiredFieldsAlert, showSuccessAlert, showErrorAlert]);\r\n\r\n    const handleDeleteAllProducts = async () => {\r\n        const confirmation = window.confirm('Êtes-vous sûr de vouloir supprimer tous les produits ?');\r\n        if (!confirmation) {\r\n            return;\r\n        }\r\n\r\n        try {\r\n            const response = await fetch('http://localhost:8000/delete_all_products/', {\r\n                method: 'DELETE',\r\n            });\r\n            if (response.ok) {\r\n                console.log('Tous les produits ont été supprimés');\r\n                alert('Tous les produits ont été supprimés avec succès');\r\n            } else {\r\n                console.error('Erreur lors de la suppression des produits');\r\n                alert('Une erreur s\\'est produite lors de la suppression des produits');\r\n            }\r\n        } catch (error) {\r\n            console.error('Erreur lors de la suppression des produits', error);\r\n            alert('Une erreur s\\'est produite lors de la suppression des produits');\r\n        }\r\n    };\r\n\r\n\r\n    return (\r\n\r\n        <div>\r\n\r\n            <Helmet>\r\n                <title>Product Management </title>\r\n            </Helmet>\r\n\r\n            <NavBarProfile/>\r\n\r\n            <div className=\"content\">\r\n\r\n                <nav className='dashboard-admin'>\r\n\r\n                    <i className=\"fas fa-bars menu-icon\" onClick={toggleMenuAdmin}></i>\r\n\r\n                    <div className=\"top\">\r\n                        <img src=\"/images/Home/logo.jpg\" alt=\"Logo\"/>\r\n\r\n                    </div>\r\n\r\n                    <ul className={`navbar-nav ${isMenuOpen ? 'show' : ''}`}>\r\n                        <li className=\"nav-item\"\r\n                        >\r\n                            <Link to=\"/admin/performance_overview\" className=\"nav-link\">Performance Overview /\r\n                                Analytics</Link>\r\n                        </li>\r\n                        <li className=\"nav-item\">\r\n                            <Link to=\"/admin/order_management\" className=\"nav-link\">Order Management</Link>\r\n                        </li>\r\n                        <li className=\"nav-item\"\r\n                            style={{backgroundColor: 'white', width: '80%', borderRadius: '20px 0 0 50px'}}>\r\n                            <Link to=\"/admin/product_management\" className=\"nav-link\">Product Management</Link>\r\n                        </li>\r\n                        <li className=\"nav-item\">\r\n                            <Link to=\"/admin/marketing_and_promotion\" className=\"nav-link\">Marketing and\r\n                                Promotion</Link>\r\n                        </li>\r\n                        <li className=\"nav-item\">\r\n                            <Link to=\"/admin/customers\" className=\"nav-link\">Customers</Link>\r\n                        </li>\r\n                        <li className=\"nav-item\">\r\n                            <Link to=\"/admin/account_settings\" className=\"nav-link\">Account Settings</Link>\r\n                        </li>\r\n                    </ul>\r\n                </nav>\r\n\r\n                <div className=\"content-products\">\r\n\r\n                    {loading &&\r\n                        <div className=\"loading\">\r\n                            <i className=\"fas fa-spinner fa-spin\"></i>\r\n                        </div>\r\n                    }\r\n\r\n\r\n                    <div className=\"product-list\">\r\n\r\n                        <div className=\"title\">\r\n                            <h2>Product List</h2>\r\n                            <h2>({products.length} Products)</h2>\r\n                        </div>\r\n\r\n                        <table>\r\n                            <thead>\r\n                            <tr>\r\n                                <th>Category</th>\r\n                                <th>Name</th>\r\n                                <th>Price</th>\r\n                                <th>Selling Price</th>\r\n                                <th>Stock</th>\r\n                                <th>Units Sold</th>\r\n                                <th>Images</th>\r\n                                <th>Manage</th>\r\n                            </tr>\r\n                            </thead>\r\n                            <tbody>\r\n                            {products.map((product) => (\r\n                                <tr key={product._id}>\r\n                                    <td>{product.category}</td>\r\n                                    <td>{product.name}</td>\r\n                                    <td>{product.price}</td>\r\n                                    <td>{product.sellingprice}</td>\r\n                                    <td>{product.stock}</td>\r\n                                    <td>{product.units_sold}</td>\r\n                                    <td>\r\n                                        {product.images.length > 0 && (\r\n                                            <img\r\n                                                src={`data:image/jpeg;base64,${product.images[0].image_data}`}\r\n                                                alt={`Product ${product.name} Image`}\r\n                                            />\r\n                                        )}\r\n                                    </td>\r\n                                    <td>\r\n                                        <i className=\"fas fa-edit\" onClick={() => handleEdit(product._id)}\r\n                                           id=\"icon-edit\"></i>\r\n                                        <i className=\"fas fa-trash\" onClick={() => handleDelete(product._id)}\r\n                                           id=\"icon-delete\"></i>\r\n                                    </td>\r\n                                </tr>\r\n                            ))}\r\n                            </tbody>\r\n                        </table>\r\n\r\n                    </div>\r\n\r\n\r\n                    {showEditModal && (\r\n                        <div className=\"modal-container\">\r\n\r\n                            <div className=\"modal\">\r\n                                <div className=\"modal-content\">\r\n                                    <i className=\"fas fa-times\" onClick={handleCloseModal}></i>\r\n\r\n                                    <h2>Edit Product</h2>\r\n                                    <label>Name : <input type=\"text\" name=\"name\" value={editingProduct.name}\r\n                                                         onChange={handleChange}/></label>\r\n                                    <label>Price : <input type=\"number\" name=\"price\" value={editingProduct.price}\r\n                                                          onChange={handleChange}/></label>\r\n                                    <label>Selling Price : <input type=\"number\" name=\"sellingprice\"\r\n                                                                  value={editingProduct.sellingprice}\r\n                                                                  onChange={handleChange}/></label>\r\n                                    <label>Stock : <input type=\"number\" name=\"stock\"\r\n                                                          value={editingProduct.stock}\r\n                                                          onChange={handleChange}/></label>\r\n                                    <label>Units Sold : <input type=\"number\" name=\"units_sold\"\r\n                                                               value={editingProduct.units_sold}\r\n                                                               onChange={handleChange}/></label>\r\n                                    <label>Description: <textarea name=\"description\"\r\n                                                                  value={editingProduct.description}\r\n                                                                  onChange={handleChange}/></label>\r\n                                    <label>Images: </label>\r\n                                    <div className=\"image-container\">\r\n                                        {editingProduct.images && editingProduct.images.map((image, index) => (\r\n                                            <div key={index} className=\"image-item\">\r\n                                                <img src={`data:image/jpeg;base64,${image.image_data}`}\r\n                                                     alt={image.image_name}/>\r\n                                                <button onClick={() => handleDeleteImage(index)}>Delete</button>\r\n                                            </div>\r\n                                        ))}\r\n                                    </div>\r\n                                    <label>Upload New Image: <input type=\"file\" name=\"newImage\"\r\n                                                                    onChange={handleImageChange}/></label>\r\n                                    <button onClick={handleUploadNewImage}>Upload New Image</button>\r\n                                    <button onClick={handleSave}>Save</button>\r\n                                </div>\r\n                            </div>\r\n\r\n                        </div>\r\n                    )}\r\n\r\n\r\n                    <div className=\"button-create-delete\">\r\n                        <button onClick={() => setShowCreateModal(true)} className=\"button-create\">Create New Product\r\n                        </button>\r\n                        <button onClick={handleDeleteAllProducts} className=\"button-delete\">Delete All Products\r\n                        </button>\r\n                    </div>\r\n                    {showCreateModal && (\r\n                        <div className=\"modal-container\">\r\n                            <div className=\"modal\">\r\n                                <div className=\"modal-content\">\r\n                                    <i className=\"fas fa-times\" onClick={handleCloseModal}></i>\r\n\r\n                                    <h2>Create Product</h2>\r\n\r\n                                    <label>Name :<input type=\"text\" name=\"name\" value={productName}\r\n                                                        onChange={handleProductNameChange}\r\n                                                        placeholder=\"Product Name\"/></label>\r\n                                    <label>Category :<input type=\"text\" name=\"category\" value={productCategory}\r\n                                                            onChange={handleProductCategoryChange}\r\n                                                            placeholder=\"Product Category\"/></label>\r\n                                    <label>Price :<input type=\"number\" name=\"price\" value={productPrice}\r\n                                                         onChange={handleProductPriceChange}\r\n                                                         placeholder=\"Product Price\"/></label>\r\n                                    <label>Selling Price :<input type=\"number\" name=\"sellingprice\"\r\n                                                                 value={productSellingPrice}\r\n                                                                 onChange={handleProductSellingPriceChange}\r\n                                                                 placeholder=\"Product Selling Price\"/></label>\r\n                                    <label>Stock :<input type=\"number\" name=\"stock\" value={productStock}\r\n                                                         onChange={handleProductStockChange}\r\n                                                         placeholder=\"Product Stock\"/></label>\r\n                                    <label>Units Sold :<input type=\"number\" name=\"units_sold\"\r\n                                                              value={productUnitsSold}\r\n                                                              onChange={handleProductUnitsSoldChange}\r\n                                                              placeholder=\"Product Units Sold\"/></label>\r\n                                    <label>Description :<textarea name=\"description\" value={productDescription}\r\n                                                                  onChange={handleProductDescriptionChange}\r\n                                                                  placeholder=\"Product Description\"/></label>\r\n                                    <label className=\"file-input-label\">\r\n                                        <i className=\"fas fa-images\"></i>\r\n                                        Choose your images here\r\n                                        <input type=\"file\" name=\"images\" multiple onChange={handleImageChangee}\r\n                                               className=\"file-input\"/>\r\n                                    </label>\r\n                                    <div className=\"image-container\">\r\n                                        {imagePreviews.map((preview, index) => (\r\n                                            <div key={index} className=\"image-item\">\r\n                                                <img src={preview.src} alt={`Image ${index}`}/>\r\n                                                <button onClick={() => handleDeleteImagee(index)}>Delete</button>\r\n                                            </div>\r\n                                        ))}\r\n                                    </div>\r\n\r\n                                    <button onClick={handleSubmit} style={{marginLeft: '20%'}}>Add Product</button>\r\n\r\n                                    {showRequiredFieldsAlert &&\r\n                                        <div className=\"alert\">Veuillez remplir tous les champs obligatoires</div>}\r\n                                    {showSuccessAlert && <div className=\"alert\">Produit créé avec succès!</div>}\r\n                                    {showErrorAlert && <div className=\"alert\">Erreur: {errorMessage}</div>}\r\n\r\n                                </div>\r\n                            </div>\r\n                        </div>\r\n                    )}\r\n\r\n                </div>\r\n\r\n            </div>\r\n\r\n        </div>\r\n    );\r\n};\r\n\r\nexport default ProductManagement;"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}